<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Diagrama de Flujo del Pretérito · Prototipo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Print-friendly: expand all <details> and remove shadows/colors for clean handouts */
    @media print {
      details {display: block;}
      details[open] > summary::marker {content: ''}
      summary {font-weight: 700}
      .no-print {display:none}
      .card {box-shadow:none; border-color:#000}
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">
  <main class="max-w-5xl mx-auto p-6 space-y-6">
    <!-- Header -->
    <header class="bg-white border border-gray-200 rounded-2xl p-6 shadow card">
      <h1 class="text-2xl md:text-3xl font-bold">Diagrama de Flujo del Pretérito</h1>
      <p class="mt-2 text-sm md:text-base text-gray-600">Objetivo: identificar rápidamente <span class="font-semibold">qué patrón</span> aplica a un verbo para conjugarlo correctamente en el pretérito.</p>
      <div class="mt-4 flex flex-wrap gap-2 text-xs">
        <span class="inline-flex items-center gap-1 rounded-full px-2 py-1 bg-red-50 text-red-700 border border-red-200">🔻 Irregular total</span>
        <span class="inline-flex items-center gap-1 rounded-full px-2 py-1 bg-orange-50 text-orange-700 border border-orange-200">🟠 Cambio ortográfico / i→y</span>
        <span class="inline-flex items-center gap-1 rounded-full px-2 py-1 bg-blue-50 text-blue-700 border border-blue-200">🔵 Cambio de raíz (e→i / o→u)</span>
        <span class="inline-flex items-center gap-1 rounded-full px-2 py-1 bg-emerald-50 text-emerald-700 border border-emerald-200">🟢 Regular</span>
      </div>
    </header>

    <!-- Quick nav -->
    <nav class="bg-white border border-gray-200 rounded-2xl p-4 shadow card no-print">
      <p class="font-semibold mb-2">Atajos:</p>
      <div class="flex flex-wrap gap-2 text-sm">
        <a href="#irregulares-especiales" class="px-3 py-1 rounded-lg border border-gray-300 hover:bg-gray-100">Fui/Di/Vi</a>
        <a href="#morfemas" class="px-3 py-1 rounded-lg border border-gray-300 hover:bg-gray-100">Morphing (UV/U/I/J)</a>
        <a href="#ar" class="px-3 py-1 rounded-lg border border-gray-300 hover:bg-gray-100">-AR</a>
        <a href="#er" class="px-3 py-1 rounded-lg border border-gray-300 hover:bg-gray-100">-ER</a>
        <a href="#ir" class="px-3 py-1 rounded-lg border border-gray-300 hover:bg-gray-100">-IR</a>
        <a href="#tablas" class="px-3 py-1 rounded-lg border border-gray-300 hover:bg-gray-100">Tablas de terminaciones</a>
      </div>
    </nav>

    <!-- FLOW START -->
    <section class="bg-white border border-gray-200 rounded-2xl p-6 shadow card">
      <h2 class="text-xl font-bold mb-4">START → ¿Qué tipo de verbo es?</h2>

      <ol class="space-y-4 list-decimal ms-5">
        <li>
          <details open class="group">
            <summary class="cursor-pointer select-none font-semibold flex items-center justify-between py-2">¿Es <em>ir, ser, dar</em> o <em>ver</em>? <span class="text-red-600 text-xs ms-2">(Irregular total · sin acentos)</span></summary>
            <div id="irregulares-especiales" class="mt-3 ms-4 border-l-4 border-red-300 ps-4">
              <p class="text-sm">Formas clave:</p>
              <div class="grid md:grid-cols-3 gap-3 mt-2 text-sm">
                <div class="p-3 rounded-xl border border-gray-200 bg-red-50">
                  <p class="font-semibold">IR / SER → fui, fuiste, fue, fuimos, fuisteis, fueron</p>
                </div>
                <div class="p-3 rounded-xl border border-gray-200 bg-red-50">
                  <p class="font-semibold">DAR → di, diste, dio, dimos, disteis, dieron</p>
                </div>
                <div class="p-3 rounded-xl border border-gray-200 bg-red-50">
                  <p class="font-semibold">VER → vi, viste, vio, vimos, visteis, vieron</p>
                </div>
              </div>
            </div>
          </details>
        </li>

        <li>
          <details class="group">
            <summary class="cursor-pointer select-none font-semibold py-2">¿Es un verbo “morphing” (con cambio de raíz + terminaciones especiales)?</summary>
            <div id="morfemas" class="mt-3 ms-4 border-l-4 border-amber-300 ps-4">
              <p class="text-sm mb-2">Identifica el <span class="font-semibold">tipo de raíz</span> y aplica terminaciones: <code class="bg-gray-100 px-1 rounded">-e, -iste, -o, -imos, -isteis, -ieron</code> (excepto <span class="font-semibold">-J</span>).</p>
              <div class="grid md:grid-cols-2 gap-4">
                <div class="p-4 rounded-xl border border-gray-200 bg-orange-50">
                  <p class="font-semibold">Grupos:</p>
                  <ul class="text-sm list-disc ms-5 mt-2">
                    <li><span class="font-semibold">UV</span>: tener <em>tuv-</em>, estar <em>estuv-</em>, andar <em>anduv-</em></li>
                    <li><span class="font-semibold">U</span>: poder <em>pud-</em>, saber <em>sup-</em>, caber <em>cup-</em>, haber <em>hub-</em></li>
                    <li><span class="font-semibold">I</span>: hacer <em>hic-</em> (<em>hizo</em>), venir <em>vin-</em>, querer <em>quis-</em></li>
                    <li><span class="font-semibold">J</span>: decir <em>dij-</em>, traer <em>traj-</em>, conducir/ traducir/ producir <em>-duj-</em></li>
                  </ul>
                </div>
                <div class="p-4 rounded-xl border border-gray-200 bg-orange-50">
                  <p class="font-semibold">Detalles clave</p>
                  <ul class="text-sm list-disc ms-5 mt-2">
                    <li>3ª plural en <span class="font-semibold">-J</span>: <code class="bg-gray-100 px-1 rounded">-eron</code> (no <code>-ieron</code>).</li>
                    <li><em>Hacer</em> (él/ella): <code class="bg-gray-100 px-1 rounded">hizo</code> (c→z).</li>
                  </ul>
                </div>
              </div>
            </div>
          </details>
        </li>

        <li>
          <details class="group">
            <summary class="cursor-pointer select-none font-semibold py-2">¿Termina en <span class="font-mono">-AR</span>?</summary>
            <div id="ar" class="mt-3 ms-4 border-l-4 border-emerald-300 ps-4">
              <p class="text-sm">Si no es irregular/morphing, aplica:</p>
              <div class="grid md:grid-cols-2 gap-4 mt-2">
                <div class="p-4 rounded-xl border border-gray-200 bg-emerald-50">
                  <p class="font-semibold">Terminaciones regulares</p>
                  <p class="text-sm mt-1"><code class="bg-gray-100 px-1 rounded">é, aste, ó, amos, asteis, aron</code></p>
                </div>
                <div class="p-4 rounded-xl border border-gray-200 bg-orange-50">
                  <p class="font-semibold">Cambio ortográfico (solo <span class="underline">yo</span>)</p>
                  <ul class="text-sm list-disc ms-5 mt-2">
                    <li><span class="font-semibold">-gar → -gué</span> (llegar → llegué)</li>
                    <li><span class="font-semibold">-car → -qué</span> (buscar → busqué)</li>
                    <li><span class="font-semibold">-zar → -cé</span> (empezar → empecé)</li>
                  </ul>
                </div>
              </div>
            </div>
          </details>
        </li>

        <li>
          <details class="group">
            <summary class="cursor-pointer select-none font-semibold py-2">¿Termina en <span class="font-mono">-ER</span>?</summary>
            <div id="er" class="mt-3 ms-4 border-l-4 border-emerald-300 ps-4">
              <div class="grid md:grid-cols-2 gap-4 mt-1">
                <div class="p-4 rounded-xl border border-gray-200 bg-emerald-50">
                  <p class="font-semibold">Terminaciones regulares</p>
                  <p class="text-sm mt-1"><code class="bg-gray-100 px-1 rounded">í, iste, ió, imos, isteis, ieron</code></p>
                </div>
                <div class="p-4 rounded-xl border border-gray-200 bg-orange-50">
                  <p class="font-semibold">Vocal + ER (i→y + acentos extra)</p>
                  <ul class="text-sm list-disc ms-5 mt-2">
                    <li><span class="font-semibold">caer, creer, leer</span></li>
                    <li>i→y en 3ª persona: <em>leyó, leyeron</em></li>
                    <li>acentos en <em>í</em>: <em>caí, caíste, caímos, caísteis</em></li>
                  </ul>
                </div>
              </div>
            </div>
          </details>
        </li>

        <li>
          <details class="group">
            <summary class="cursor-pointer select-none font-semibold py-2">¿Termina en <span class="font-mono">-IR</span>?</summary>
            <div id="ir" class="mt-3 ms-4 border-l-4 border-emerald-300 ps-4">
              <p class="text-sm">Comparte terminaciones con -ER: <code class="bg-gray-100 px-1 rounded">í, iste, ió, imos, isteis, ieron</code>.</p>
              <div class="grid md:grid-cols-2 gap-4 mt-2">
                <div class="p-4 rounded-xl border border-gray-200 bg-orange-50">
                  <p class="font-semibold">¿Es <em>oír</em> o verbo en <span class="font-mono">-eír</span>?</p>
                  <ul class="text-sm list-disc ms-5 mt-2">
                    <li><em>oír</em>: i→y en 3ª: <em>oyó, oyeron</em>; acentos en <em>í</em> en otras formas: <em>oí, oíste, oímos, oísteis</em>.</li>
                    <li><span class="font-semibold">-eír</span> (p.ej. <em>reír</em>): acentos como arriba; en 3ª persona se cae la <em>e</em>: <em>rió, rieron</em>.</li>
                  </ul>
                </div>
                <div class="p-4 rounded-xl border border-gray-200 bg-orange-50">
                  <p class="font-semibold">¿Termina en <span class="font-mono">-uir</span> (no <span class="font-mono">-guir</span>)?</p>
                  <ul class="text-sm list-disc ms-5 mt-2">
                    <li>i→y en 3ª persona: <em>construyó, construyeron</em>.</li>
                    <li><span class="italic">Sin</span> acentos extra (a diferencia de <em>leer</em> / <em>oír</em>).</li>
                  </ul>
                </div>
                <div class="p-4 rounded-xl border border-gray-200 bg-blue-50 md:col-span-2">
                  <p class="font-semibold">¿Es con cambio de raíz (solo en 3ª)?</p>
                  <ul class="text-sm list-disc ms-5 mt-2">
                    <li><span class="font-semibold">e→i</span>: pedir → <em>pidió, pidieron</em>; sentir → <em>sintió, sintieron</em></li>
                    <li><span class="font-semibold">o→u</span>: dormir → <em>durmió, durmieron</em></li>
                    <li>En otras personas, se conjuga regular.</li>
                  </ul>
                </div>
                <div class="p-4 rounded-xl border border-gray-200 bg-emerald-50 md:col-span-2">
                  <p class="font-semibold">Si nada de lo anterior aplica → Regular (-IR)</p>
                </div>
              </div>
            </div>
          </details>
        </li>
      </ol>
    </section>

    <!-- Endings tables -->
    <section id="tablas" class="bg-white border border-gray-200 rounded-2xl p-6 shadow card">
      <h3 class="text-lg font-bold">Tablas de terminaciones</h3>
      <div class="grid md:grid-cols-3 gap-4 mt-3 text-sm">
        <div class="p-4 rounded-xl border border-gray-200 bg-emerald-50">
          <p class="font-semibold">-AR reg.</p>
          <p class="mt-1"><code class="bg-gray-100 px-1 rounded">é, aste, ó, amos, asteis, aron</code></p>
        </div>
        <div class="p-4 rounded-xl border border-gray-200 bg-emerald-50">
          <p class="font-semibold">-ER / -IR reg.</p>
          <p class="mt-1"><code class="bg-gray-100 px-1 rounded">í, iste, ió, imos, isteis, ieron</code></p>
        </div>
        <div class="p-4 rounded-xl border border-gray-200 bg-orange-50">
          <p class="font-semibold">Morphing (UV/U/I/J)</p>
          <p class="mt-1"><code class="bg-gray-100 px-1 rounded">e, iste, o, imos, isteis, ieron</code> <span class="text-xs">(∗ <span class="font-semibold">-J</span> ➝ <code>-eron</code>)</span></p>
        </div>
      </div>
    </section>

    <!-- Examples / Practice prompts -->
    <section class="bg-white border border-gray-200 rounded-2xl p-6 shadow card">
      <h3 class="text-lg font-bold">Mini práctica guiada</h3>
      <ol class="list-decimal ms-5 text-sm mt-2 space-y-2">
        <li>¿Es un verbo morphing? ¿Qué raíz toma <em>(tuv-/pud-/quis-/traj-…)</em>? ¿Qué terminaciones lleva?</li>
        <li>Si termina en -AR: ¿hay -gar/-car/-zar? Si sí, ¿en qué persona ocurre el cambio?</li>
        <li>Si termina en -ER: ¿es <em>caer/creer/leer</em>? ¿Dónde van los acentos extra? ¿Qué pasa en 3ª persona?</li>
        <li>Si termina en -IR: ¿es <em>oír</em> o un verbo en <span class="font-mono">-eír</span>? ¿o en <span class="font-mono">-uir</span> (no <span class="font-mono">-guir</span>)? ¿tiene cambio de raíz en 3ª (e→i / o→u)?</li>
      </ol>
    </section>

    <!-- Footer actions -->
    <footer class="flex flex-wrap gap-3 justify-between items-center">
      <button onclick="window.print()" class="no-print inline-flex items-center px-4 py-2 rounded-xl border border-gray-300 bg-white hover:bg-gray-100 shadow-sm">🖨️ Imprimir</button>
      <p class="text-xs text-gray-500">Prototipo v1 · listo para adaptar a tu generador</p>
    </footer>
  </main>
</body>
</html>
