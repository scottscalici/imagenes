<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NS Oral - Como agua para chocolate (Pasaje 06)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .timer-huge { font-size: 4rem; font-weight: bold; font-family: monospace; }
    .question-card { cursor: pointer; transition: all 0.2s; text-align: left; padding: 12px; border: 1px solid #e2e8f0; border-radius: 8px; background: white; font-size: 0.875rem; box-shadow: 0 1px 2px rgba(0,0,0,0.05); width: 100%; }
    .question-card:hover { transform: translateY(-2px); border-color: #6d28d9; background: #f5f3ff; }
    .scroll-custom::-webkit-scrollbar { width: 6px; }
    .scroll-custom::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
  </style>
</head>
<body class="bg-slate-50 min-h-screen pb-20">

  <header class="bg-purple-900 text-white p-6 shadow-xl mb-6">
    <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
      <div>
        <h1 class="text-2xl font-bold text-purple-200 tracking-tight">NS: EvaluaciÃ³n Interna (Oral)</h1>
        <p class="text-lg opacity-90 font-medium">Como agua para chocolate â€” <span class="italic">Agosto: Champandongo</span></p>
      </div>
      <div class="text-right">
        <div id="statusLabel" class="bg-purple-800 border border-purple-400 px-4 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest text-white">Estado: En espera</div>
        <p class="text-[10px] mt-1 opacity-70 uppercase font-bold">Prep: 20:00 | Meta NS: 4:00</p>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 grid grid-cols-1 lg:grid-cols-12 gap-8">
    
    <div class="lg:col-span-7 space-y-6">
      <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
        <div class="flex gap-4 mb-4">
            <img src="https://raw.githubusercontent.com/scottscalici/imagenes/main/IA/fotos/como.jpg" class="h-24 rounded-lg shadow-md border border-slate-100">
            <div>
                <h2 class="font-bold text-xl text-slate-800">Pasaje Literario 06</h2>
                <a href="https://github.com/scottscalici/imagenes/blob/main/IA/pasajeliterario/pdf/pasaje%20literario%20-%20Como%20agua%20para%20chocolate%20-%20pr%C3%A1ctica%2006.pdf?raw=1" target="_blank" class="text-indigo-600 text-xs font-bold hover:underline">ğŸ“¥ DESCARGAR PDF</a>
            </div>
        </div>

        <div class="mb-6 p-4 bg-purple-50 border-l-4 border-purple-500 rounded-r-lg">
            <h3 class="font-bold text-purple-900 text-sm mb-1 italic">ğŸ§­ Instrucciones:</h3>
            <p class="text-purple-800 text-sm">Lee el pasaje literario con atenciÃ³n. Analiza el contexto, los personajes, el tono y los recursos literarios.</p>
        </div>
        
        <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 text-slate-800 leading-relaxed text-base scroll-custom overflow-y-auto max-h-[500px] font-serif">
            <p class="mb-4">En una mano llevaba la cazuela y en la otra un quinquÃ©. EntrÃ³ al cuarto cuidando de no tropezar con la gran cantidad de objetos que estaban en el camino del sitio donde se guardaban las ollas de cocina que no se utilizaban frecuentemente. La luz del quinquÃ© le ayudaba bastante, pero no lo suficiente como para alumbrarle las espaldas por donde silenciosamente se deslizÃ³ una sombra y cerrÃ³ la puerta del cuarto. <br>Al sentir una presencia extraÃ±a, Tita girÃ³ sobre sÃ­ misma y la luz delineÃ³ claramente la figura de Pedro poniendo una tranca en la puerta. <br>-Â¡Pedro! Â¿QuÃ© hace aquÃ­. <br>Pedro, sin responderle, se acercÃ³ a ella, apagÃ³ la luz del quinquÃ©, la jalÃ³ hacia donde estaba la cama de latÃ³n que alguna vez perteneciÃ³ a Gertrudis su hermana y tirÃ¡ndola sobre ella, la hizo perder su virginidad y conocer el verdadero amor. </p>
            <p class="mb-4">Rosaura, en su recÃ¡mara, trataba de dormir a su hija que lloraba desenfrenadamente. La paseaba por todo el cuarto, sin ningÃºn resultado. Al cruzar por la ventana vio salir del cuarto oscuro un resplandor extraÃ±o. Volutas fosforescentes se elevaban hacia el cielo como delicadas luces de bengala. Por mÃ¡s gritos de alarma que dio llamando a Tita y a Pedro para que lo observaran, no tuvo respuesta mÃ¡s que de Chencha, que habÃ­a ido a buscar un juego de sÃ¡banas. Al presenciar el singular fenÃ³meno, Chencha por primera vez en su vida enmudeciÃ³ de sorpresa, ni un solo sonido escapaba de sus labios. Hasta Esperanza, que no perdÃ­a detalle, dejÃ³ de llorar. Chencha se arrodillÃ³ y persignÃ¡ndose se puso a orar. </p>
            <p class="mb-4">-Â¡Virgen SantÃ­sima queâ€™stÃ¡s en los cielos, recoge el alma de mi siÃ±ora Elena paâ€™que deje de vagar en las tiÃ±eblas del pulgatorio! <br>-Â¿QuÃ© dices Chencha, de quÃ© hablas? <br>-Â¡Pos de quÃ©â€™a de ser, no ve que se trata del fantasma de la dijunta! Â¡La probe algoâ€™a de andar pagando! Â¡Yo por si las dudas ni de chiste me guelgo aâ€™cercar por aâ€™i! <br>-Ni yo. </p>
            <p>Â¡Si la pobre MamÃ¡ Elena supiera que aun despuÃ©s de muerta su presencia seguÃ­a causando temor y que ese miedo a encontrarse con ella les proporcionaba a Tita y a Pedro la oportunidad ideal para profanar impunemente su lugar preferido, al revolcarse voluptuosamente sobre la cama de Gertrudis, se volverla a morir cien veces!</p>
        </div>
      </div>
    </div>

    <div class="lg:col-span-5 space-y-6">
      <div class="bg-white p-6 rounded-2xl shadow-md border-t-4 border-purple-600 text-center">
        <div id="clock" class="timer-huge text-slate-900 tracking-tighter">00:00</div>
        <div id="success_msg" class="hidden text-emerald-600 font-bold text-sm animate-pulse mb-2">âœ¨ LÃMITE MÃNIMO ALCANZADO (3:00+) âœ¨</div>
        <button id="mainBtn" onclick="startPrep()" class="w-full bg-purple-700 hover:bg-purple-800 text-white font-bold py-4 rounded-xl text-lg shadow-lg transition-all active:scale-95">
          EMPEZAR PREPARACIÃ“N NS (20:00)
        </button>
      </div>

      <div id="dynamicContainer" class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 min-h-[400px]">
        <div id="notesBlock">
            <h3 class="font-bold text-slate-700 mb-4 flex items-center justify-between">
                <span>ğŸ“ Notas NS (10 balas)</span>
            </h3>
            <div id="notesList" class="space-y-3">
                <p class="text-slate-400 text-sm italic">Haz clic en el botÃ³n superior para iniciar...</p>
            </div>
        </div>

        <div id="qZone" class="hidden space-y-4">
            <div class="bg-indigo-950 text-white p-5 rounded-xl border-l-4 border-indigo-400">
                <p id="qDisplay" class="text-lg font-medium leading-tight italic">Preguntas de prÃ¡ctica NS...</p>
            </div>
            <div class="grid grid-cols-1 gap-2 overflow-y-auto max-h-[400px] pr-2 scroll-custom">
                <button onclick="ask(this)" class="question-card">1. Â¿CÃ³mo contribuye la oscuridad del cuarto al tono de la escena?</button>
                <button onclick="ask(this)" class="question-card">2. Â¿QuÃ© simboliza que Pedro apague el quinquÃ©?</button>
                <button onclick="ask(this)" class="question-card">3. Â¿Por quÃ© es significativo que la cama fuese de Gertrudis?</button>
                <button onclick="ask(this)" class="question-card">4. Â¿CÃ³mo afecta el llanto de Esperanza al tono del fragmento?</button>
                <button onclick="ask(this)" class="question-card">5. Â¿QuÃ© revela la reacciÃ³n de Chencha ante las luces?</button>
                <button onclick="ask(this)" class="question-card">6. Â¿CÃ³mo se une el deseo carnal con lo sobrenatural aquÃ­?</button>
                <button onclick="ask(this)" class="question-card">7. Analiza el humor irÃ³nico de la Ãºltima frase del pasaje.</button>
                <button onclick="ask(this)" class="question-card">8. Â¿Por quÃ© Rosaura no comprende lo que ocurre realmente?</button>
                <button onclick="ask(this)" class="question-card">9. Â¿QuÃ© dice esta escena sobre la evoluciÃ³n de Tita y Pedro?</button>
                <button onclick="ask(this)" class="question-card">10. Â¿CÃ³mo se manifiesta MamÃ¡ Elena tras su muerte?</button>
                <button onclick="ask(this)" class="question-card">11. Â¿QuÃ© papel juega el miedo en la trama de este fragmento?</button>
                <button onclick="ask(this)" class="question-card">12. Â¿CÃ³mo intensifica el realismo mÃ¡gico la pasiÃ³n mostrada?</button>
                <button onclick="ask(this)" class="question-card">13. Comenta el contraste entre la vivencia de Tita y la de Rosaura.</button>
                <button onclick="ask(this)" class="question-card">14. Â¿QuÃ© importancia tiene el silencio inicial de Pedro?</button>
                <button onclick="ask(this)" class="question-card">15. Â¿CÃ³mo anticipa esta escena las consecuencias para la pareja?</button>
            </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    let seconds = 0, loop, isSpeaking = false;
    const PREP_TIME = 1200; 
    const SPEAK_TIME = 240;  

    function updateClock() {
      const clockEl = document.getElementById('clock');
      const msg = document.getElementById('success_msg');
      const absSec = Math.abs(seconds);
      const m = Math.floor(absSec / 60);
      const s = absSec % 60;
      clockEl.innerText = (seconds < 0 ? "-" : "") + m + ":" + (s < 10 ? "0" : "") + s;
      if (isSpeaking) {
        if (seconds <= 60 && seconds >= 0) { clockEl.style.color = "#10b981"; msg.classList.remove('hidden'); }
        else if (seconds < 0) { clockEl.style.color = "#ef4444"; msg.classList.add('hidden'); }
        else { clockEl.style.color = "#0f172a"; }
      }
    }

    function startPrep() {
      clearInterval(loop);
      seconds = PREP_TIME; isSpeaking = false;
      document.getElementById('statusLabel').innerText = "Fase: PreparaciÃ³n NS";
      document.getElementById('statusLabel').className = "bg-amber-600 border border-amber-300 px-4 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest text-white";
      const list = document.getElementById('notesList');
      list.innerHTML = "";
      for(let i=1; i<=10; i++) {
        list.innerHTML += `<div class="flex gap-2 items-center"><span class="text-purple-500 font-bold text-xs">${i}.</span><input type="text" class="w-full border-b border-slate-100 focus:border-purple-400 outline-none py-1 text-sm"></div>`;
      }
      const btn = document.getElementById('mainBtn');
      btn.innerText = "TERMINAR PREPARACIÃ“N";
      btn.className = "w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-4 rounded-xl text-lg shadow-lg transition-all";
      btn.onclick = waitToSpeak;
      loop = setInterval(() => { seconds--; updateClock(); if (seconds <= 0) { clearInterval(loop); waitToSpeak(); } }, 1000);
    }

    function waitToSpeak() {
      clearInterval(loop);
      document.getElementById('clock').style.color = "#2563eb";
      const btn = document.getElementById('mainBtn');
      btn.innerText = "INICIAR DISCURSO NS (4 MIN)";
      btn.className = "w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl text-lg shadow-lg transition-all";
      btn.onclick = startSpeak;
    }

    function startSpeak() {
      isSpeaking = true; seconds = SPEAK_TIME;
      document.getElementById('statusLabel').innerText = "Fase: Discurso NS";
      document.getElementById('statusLabel').className = "bg-red-600 border border-red-300 px-4 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest text-white";
      const btn = document.getElementById('mainBtn');
      btn.innerText = "FINALIZAR Y VER PREGUNTAS";
      btn.className = "w-full bg-red-600 hover:bg-red-700 text-white font-bold py-4 rounded-xl text-lg shadow-lg transition-all";
      btn.onclick = finishExam;
      loop = setInterval(() => { seconds--; updateClock(); }, 1000);
    }

    function finishExam() {
      clearInterval(loop);
      document.getElementById('notesBlock').classList.add('hidden');
      document.getElementById('qZone').classList.remove('hidden');
      document.getElementById('mainBtn').classList.add('hidden');
      document.getElementById('statusLabel').innerText = "Fase: DiÃ¡logo NS";
      document.getElementById('statusLabel').className = "bg-indigo-600 border border-indigo-300 px-4 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest text-white";
    }

    function ask(btn) { document.getElementById('qDisplay').innerText = btn.innerText; }
  </script>
</body>
</html>
